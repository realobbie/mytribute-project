<%- include('header') %>

<main class="container admin-container">
    <h1 style="margin-top: 30px;">Admin Dashboard</h1>

    <section class="admin-section">
        <h3>Homepage Hero Banner</h3>
        <form action="/admin/settings" method="POST" enctype="multipart/form-data" class="admin-form">
            <label>Banner Title</label>
            <input type="text" name="heroTitle" value="<%= siteSettings.heroTitle %>">
            
            <label>Banner Subtext</label>
            <input type="text" name="heroText" value="<%= siteSettings.heroText %>">
            
            <label>Change Background Image</label>
            <input type="file" name="heroImage">
            
            <button type="submit" class="btn">Update Banner</button>
        </form>
    </section>

    <section class="admin-section">
        <h3>Manage Tributes</h3>
        <table width="100%" style="border-collapse: collapse; background: white;">
            <thead>
                <tr style="background: #eee; text-align: left;">
                    <th style="padding: 10px;">Name</th>
                    <th>Funeral Home</th>
                    <th>Actions</th>
                </tr>
            </thead>
            <tbody>
                <% tributes.forEach(t => { %>
                    <tr style="border-bottom: 1px solid #eee;">
                        <td style="padding: 10px;"><%= t.firstName %> <%= t.lastName %></td>
                        <td><%= t.funeralHome %></td>
                        <td style="display: flex; gap: 10px; padding: 10px;">
                            <a href="/tribute/<%= t.id %>" class="btn" style="background: #7f8c8d; padding: 5px 10px;">View</a>
                            <form action="/tribute/<%= t.id %>/delete" method="POST" onsubmit="return confirm('Delete this tribute permanently?')">
                                <button type="submit" class="btn" style="background: #e74c3c; padding: 5px 10px;">Delete</button>
                            </form>
                        </td>
                    </tr>
                <% }) %>
            </tbody>
        </table>
    </section>
</main>

<%- include('footer') %>