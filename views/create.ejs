<%- include('header') %>

<main class="container" style="max-width: 700px; margin-top: 40px; margin-bottom: 50px;">
    <div style="background: white; padding: 40px; border-radius: 12px; box-shadow: 0 4px 20px rgba(0,0,0,0.1);">
        <h2 style="color: var(--navy); margin-bottom: 25px; border-bottom: 2px solid var(--blue); padding-bottom: 10px;">
            Create a New Tribute
        </h2>
        
        <form action="/create" method="POST" enctype="multipart/form-data">
            <div style="display: flex; gap: 20px; margin-bottom: 15px;">
                <div style="flex: 1;">
                    <label style="display: block; font-weight: bold; margin-bottom: 5px;">First Name</label>
                    <input type="text" name="firstName" required placeholder="e.g. John" 
                           style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px;">
                </div>
                <div style="flex: 1;">
                    <label style="display: block; font-weight: bold; margin-bottom: 5px;">Last Name</label>
                    <input type="text" name="lastName" required placeholder="e.g. Doe" 
                           style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px;">
                </div>
            </div>

            <div style="margin-bottom: 15px;">
                <label style="display: block; font-weight: bold; margin-bottom: 5px;">Funeral Home / Location</label>
                <input type="text" name="funeralHome" placeholder="e.g. Grace Memorial Chapel" 
                       style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px;">
            </div>
            
            <div style="margin-bottom: 15px;">
                <label style="display: block; font-weight: bold; margin-bottom: 5px;">Biography / Obituary</label>
                <textarea id="bioTextArea" name="bio" rows="8" maxlength="1000" required 
                          placeholder="Tell their story..." 
                          style="width: 100%; padding: 10px; border: 1px solid #ddd; border-radius: 6px; font-family: inherit; resize: vertical;"></textarea>
                <div id="charCount" style="text-align: right; font-size: 0.85rem; color: #666; margin-top: 5px;">
                    0 / 1000 characters
                </div>
            </div>
            
            <div style="margin-bottom: 25px;">
                <label style="display: block; font-weight: bold; margin-bottom: 5px;">Profile Photo</label>
                <input type="file" name="photo" accept="image/*" 
                       style="width: 100%; padding: 10px; background: #f9f9f9; border: 1px dashed #ccc; border-radius: 6px;">
                <p style="font-size: 0.8rem; color: #888; margin-top: 5px;">Recommended: Square image, max 5MB.</p>
            </div>
            
            <button type="submit" class="btn" style="width: 100%; padding: 15px; font-size: 1.1rem; font-weight: bold;">
                Publish Tribute
            </button>
        </form>
    </div>
</main>

<script>
    const bioArea = document.getElementById('bioTextArea');
    const charDisplay = document.getElementById('charCount');
    const maxLength = 1000;

    bioArea.addEventListener('input', () => {
        const length = bioArea.value.length;
        charDisplay.textContent = `${length} / ${maxLength} characters`;
        
        // Visual feedback if getting close to limit
        if (length >= maxLength) {
            charDisplay.style.color = 'red';
        } else if (length >= maxLength * 0.9) {
            charDisplay.style.color = 'orange';
        } else {
            charDisplay.style.color = '#666';
        }
    });
</script>

<%- include('footer') %>